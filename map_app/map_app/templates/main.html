<!doctype html>
<title>Flaskr</title>
<link rel=stylesheet type=text/css href="{{ url_for('static', filename='style.css') }}">
<link href="{{ url_for('static', filename='css/bootstrap.min.css') }}" rel="stylesheet">
<script src="{{ url_for('static', filename='js/jquery-2.2.3.js') }}" type="text/javascript"></script>
<script src="{{ url_for('static', filename='js/main.js') }}" type="text/javascript"></script>
<script src="{{ url_for('static', filename='js/bootstrap.min.js') }}" type="text/javascript"></script>

<ul class="nav nav-tabs" role="tablist" id="myTab">
  <li role="presentation"><a href="#map">映射管理</a></li>
  <li role="presentation"><a href="#repo">数据字典管理</a></li>
  <li role="presentation"><a href="#qarule">数据质量管理</a></li>
</ul>

<div id="myTabContent" class="tab-content">
  <div class="tab-pane fade" id="map"></div>
  <div class="tab-pane fade" id="repo"></div>
  <div class="tab-pane fade" id="qarule"></div>
</div>

<script type="text/javascript">
  function showTabs(tabsId,url) {
    $("a[href='#"+tabsId+"']").tab('show');
    var $tabContent = $('#'+tabsId);
    if($tabContent.length < 100) {
        $tabContent.load(url);
        //console.info($tabContent);
        //console.info(tabsId + ' load done!');
    }
  }

   $('a[href="#map"]').click(function(e) {
    showTabs('map','/map/view');
    e.preventDefault();
});

  $('a[href="#repo"]').click(function(e) {
    showTabs('repo','/repo/list');
    e.preventDefault();
});

  $('a[href="#qarule"]').click(function(e) {
    showTabs('qarule','blank');
    e.preventDefault();
});

  $( function() {
    showTabs('map','/map/view');
    e.preventDefault();
  }
  );

  </script>
